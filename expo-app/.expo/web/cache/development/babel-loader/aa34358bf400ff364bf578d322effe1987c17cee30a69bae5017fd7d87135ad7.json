{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { useTheme } from \"../components/ThemeContext\";\nimport Toast from 'react-native-toast-message';\nimport { auth, db } from \"../firebase/initFirebase\";\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\nimport { Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction round(value) {\n  var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  return Math.round(value * Math.pow(10, decimals)) / Math.pow(10, decimals);\n}\nfunction cockcroftGault(weightKg, ageYears, serumCrMgDl, isFemale) {\n  var sexFactor = isFemale ? 0.85 : 1.0;\n  var cr = (140 - ageYears) * weightKg / (72 * serumCrMgDl);\n  return cr * sexFactor;\n}\nexport default function CalculatorScreen(_ref) {\n  var _theme$accent;\n  var navigation = _ref.navigation;\n  var _useTheme = useTheme(),\n    theme = _useTheme.theme;\n  var _useState = useState('70'),\n    _useState2 = _slicedToArray(_useState, 2),\n    weight = _useState2[0],\n    setWeight = _useState2[1];\n  var _useState3 = useState('40'),\n    _useState4 = _slicedToArray(_useState3, 2),\n    age = _useState4[0],\n    setAge = _useState4[1];\n  var _useState5 = useState('1.0'),\n    _useState6 = _slicedToArray(_useState5, 2),\n    creatinine = _useState6[0],\n    setCreatinine = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    patientName = _useState8[0],\n    setPatientName = _useState8[1];\n  var _useState9 = useState('kg'),\n    _useState0 = _slicedToArray(_useState9, 2),\n    weightUnit = _useState0[0],\n    setWeightUnit = _useState0[1];\n  var _useState1 = useState('mg/dL'),\n    _useState10 = _slicedToArray(_useState1, 2),\n    creatinineUnit = _useState10[0],\n    setCreatinineUnit = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    female = _useState12[0],\n    setFemale = _useState12[1];\n  var _useState13 = useState(null),\n    _useState14 = _slicedToArray(_useState13, 2),\n    result = _useState14[0],\n    setResult = _useState14[1];\n  var calculate = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var w = parseFloat(weight);\n      var a = parseFloat(age);\n      var cr = parseFloat(creatinine);\n      if (isNaN(w) || isNaN(a) || isNaN(cr) || cr <= 0) {\n        Toast.show({\n          type: 'error',\n          text1: 'Ошибка',\n          text2: 'Проверьте введённые значения'\n        });\n        return;\n      }\n      var weightKg = weightUnit === 'lb' ? w * 0.45359237 : w;\n      var creatMgDl = creatinineUnit === 'umol/L' ? cr / 88.4 : cr;\n      var cg = cockcroftGault(weightKg, a, creatMgDl, female);\n      var rounded = round(cg, 2);\n      setResult(rounded);\n      var user = auth.currentUser;\n      if (!user) {\n        Toast.show({\n          type: 'info',\n          text1: 'Результат рассчитан',\n          text2: 'Войдите, чтобы сохранить в историю'\n        });\n        return;\n      }\n      try {\n        yield addDoc(collection(db, 'users', user.uid, 'history'), {\n          patientName: patientName || null,\n          weightRaw: parseFloat(weight),\n          weightUnit: weightUnit,\n          weightKg: parseFloat(String(weightKg)),\n          age: parseFloat(age),\n          creatinineRaw: parseFloat(creatinine),\n          creatinineUnit: creatinineUnit,\n          creatinineMgDl: parseFloat(String(creatMgDl)),\n          female: female,\n          result: rounded,\n          createdAt: serverTimestamp()\n        });\n        Toast.show({\n          type: 'success',\n          text1: 'Сохранено в облаке'\n        });\n      } catch (e) {\n        Toast.show({\n          type: 'error',\n          text1: 'Ошибка сохранения',\n          text2: e.message || String(e)\n        });\n      }\n    });\n    return function calculate() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  function classifyClCr(val) {\n    var alpha = '22';\n    if (val === null) return {\n      label: '—',\n      color: theme.mutted,\n      bg: theme.border\n    };\n    if (val >= 90) return {\n      label: 'Норма',\n      color: theme.success,\n      bg: theme.success + alpha\n    };\n    if (val >= 60) return {\n      label: 'Лёгкое снижение',\n      color: theme.warning,\n      bg: theme.warning + alpha\n    };\n    if (val >= 30) return {\n      label: 'Умеренное снижение',\n      color: theme.warning,\n      bg: theme.warning + alpha\n    };\n    if (val >= 15) return {\n      label: 'Выраженное снижение',\n      color: theme.danger,\n      bg: theme.danger + alpha\n    };\n    return {\n      label: 'Терминальная почечная недостаточность',\n      color: theme.danger,\n      bg: theme.danger + alpha\n    };\n  }\n  return _jsxs(ScrollView, {\n    contentContainerStyle: [styles.container, {\n      backgroundColor: theme.background\n    }],\n    showsVerticalScrollIndicator: false,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(View, {\n        style: styles.headerIcon,\n        children: _jsx(Ionicons, {\n          name: \"calculator\",\n          size: 24,\n          color: theme.primary\n        })\n      }), _jsxs(View, {\n        style: styles.headerText,\n        children: [_jsx(Text, {\n          style: [styles.title, {\n            color: theme.text\n          }],\n          children: \"Cockcroft\\u2013Gault\"\n        }), _jsx(Text, {\n          style: [styles.subtitle, {\n            color: theme.mutted\n          }],\n          children: \"\\u041A\\u043B\\u0438\\u0440\\u0435\\u043D\\u0441 \\u043A\\u0440\\u0435\\u0430\\u0442\\u0438\\u043D\\u0438\\u043D\\u0430\"\n        })]\n      })]\n    }), _jsxs(View, {\n      style: [styles.card, {\n        backgroundColor: theme.card\n      }],\n      children: [_jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"\\u041F\\u0430\\u0446\\u0438\\u0435\\u043D\\u0442\"\n        }), _jsxs(View, {\n          style: styles.inputWrapper,\n          children: [_jsx(Ionicons, {\n            name: \"person-outline\",\n            size: 18,\n            color: theme.mutted,\n            style: styles.inputIcon\n          }), _jsx(TextInput, {\n            style: [styles.input, {\n              color: theme.text\n            }],\n            value: patientName,\n            onChangeText: setPatientName,\n            placeholder: \"\\u0418\\u043C\\u044F (\\u043D\\u0435\\u043E\\u0431\\u044F\\u0437\\u0430\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E)\",\n            placeholderTextColor: theme.mutted\n          })]\n        })]\n      }), _jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"\\u0412\\u0435\\u0441\"\n        }), _jsxs(View, {\n          style: styles.rowInput,\n          children: [_jsxs(View, {\n            style: [styles.inputWrapper, {\n              flex: 1\n            }],\n            children: [_jsx(MaterialCommunityIcons, {\n              name: \"weight-kilogram\",\n              size: 18,\n              color: theme.mutted,\n              style: styles.inputIcon\n            }), _jsx(TextInput, {\n              style: [styles.input, {\n                color: theme.text\n              }],\n              value: weight,\n              onChangeText: setWeight,\n              keyboardType: \"numeric\",\n              placeholder: \"70\",\n              placeholderTextColor: theme.mutted\n            })]\n          }), _jsxs(View, {\n            style: styles.unitToggle,\n            children: [_jsx(Pressable, {\n              onPress: function onPress() {\n                return setWeightUnit('kg');\n              },\n              style: [styles.unitBtn, weightUnit === 'kg' && styles.unitBtnActive],\n              children: _jsx(Text, {\n                style: [styles.unitText, weightUnit === 'kg' && styles.unitTextActive],\n                children: \"kg\"\n              })\n            }), _jsx(Pressable, {\n              onPress: function onPress() {\n                return setWeightUnit('lb');\n              },\n              style: [styles.unitBtn, weightUnit === 'lb' && styles.unitBtnActive],\n              children: _jsx(Text, {\n                style: [styles.unitText, weightUnit === 'lb' && styles.unitTextActive],\n                children: \"lb\"\n              })\n            })]\n          })]\n        })]\n      }), _jsxs(View, {\n        style: styles.rowDouble,\n        children: [_jsxs(View, {\n          style: [styles.formGroup, {\n            flex: 1,\n            marginRight: 8\n          }],\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"\\u0412\\u043E\\u0437\\u0440\\u0430\\u0441\\u0442\"\n          }), _jsxs(View, {\n            style: styles.inputWrapper,\n            children: [_jsx(Ionicons, {\n              name: \"calendar-outline\",\n              size: 18,\n              color: theme.mutted,\n              style: styles.inputIcon\n            }), _jsx(TextInput, {\n              style: [styles.input, {\n                color: theme.text\n              }],\n              value: age,\n              onChangeText: setAge,\n              keyboardType: \"numeric\",\n              placeholder: \"40\",\n              placeholderTextColor: theme.mutted\n            })]\n          })]\n        }), _jsxs(View, {\n          style: [styles.formGroup, {\n            flex: 1\n          }],\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"\\u041A\\u0440\\u0435\\u0430\\u0442\\u0438\\u043D\\u0438\\u043D\"\n          }), _jsxs(View, {\n            style: styles.inputWrapper,\n            children: [_jsx(Ionicons, {\n              name: \"water-outline\",\n              size: 18,\n              color: theme.mutted,\n              style: styles.inputIcon\n            }), _jsx(TextInput, {\n              style: [styles.input, {\n                paddingRight: 4,\n                color: theme.text\n              }],\n              value: creatinine,\n              onChangeText: setCreatinine,\n              keyboardType: \"numeric\",\n              placeholder: \"1.0\",\n              placeholderTextColor: theme.mutted\n            })]\n          })]\n        })]\n      }), _jsxs(View, {\n        style: [styles.unitToggle, {\n          width: '100%',\n          marginBottom: 16\n        }],\n        children: [_jsx(Pressable, {\n          onPress: function onPress() {\n            return setCreatinineUnit('mg/dL');\n          },\n          style: [styles.unitBtn, {\n            flex: 1\n          }, creatinineUnit === 'mg/dL' && {\n            backgroundColor: theme.primary\n          }],\n          children: _jsx(Text, {\n            style: [styles.unitText, creatinineUnit === 'mg/dL' && {\n              color: '#fff'\n            }],\n            children: \"mg/dL\"\n          })\n        }), _jsx(Pressable, {\n          onPress: function onPress() {\n            return setCreatinineUnit('umol/L');\n          },\n          style: [styles.unitBtn, {\n            flex: 1\n          }, creatinineUnit === 'umol/L' && {\n            backgroundColor: theme.primary\n          }],\n          children: _jsx(Text, {\n            style: [styles.unitText, creatinineUnit === 'umol/L' && {\n              color: '#fff'\n            }],\n            children: \"\\xB5mol/L\"\n          })\n        })]\n      }), _jsxs(View, {\n        style: styles.formGroup,\n        children: [_jsx(Text, {\n          style: styles.label,\n          children: \"\\u041F\\u043E\\u043B\"\n        }), _jsxs(View, {\n          style: styles.genderToggle,\n          children: [_jsxs(Pressable, {\n            onPress: function onPress() {\n              return setFemale(false);\n            },\n            style: [styles.genderBtn, !female && {\n              backgroundColor: theme.card\n            }, !female && {\n              borderColor: theme.border\n            }, !female && {}, !female && {}, !female && {}, !female && {}, !female && {}, !female && {}, !female && {}, !female && {}, !female && {}, !female && {}, !female && {}, !female && {}, !female && {}, !female && {}],\n            children: [_jsx(Ionicons, {\n              name: \"male\",\n              size: 20,\n              color: !female ? theme.text : theme.mutted\n            }), _jsx(Text, {\n              style: [styles.genderText, !female && {\n                color: theme.text\n              }],\n              children: \"\\u041C\\u0443\\u0436\\u0441\\u043A\\u043E\\u0439\"\n            })]\n          }), _jsxs(Pressable, {\n            onPress: function onPress() {\n              return setFemale(true);\n            },\n            style: [styles.genderBtn, female && {\n              backgroundColor: theme.primary\n            }],\n            children: [_jsx(Ionicons, {\n              name: \"female\",\n              size: 20,\n              color: female ? '#fff' : theme.mutted\n            }), _jsx(Text, {\n              style: [styles.genderText, female && {\n                color: '#fff'\n              }],\n              children: \"\\u0416\\u0435\\u043D\\u0441\\u043A\\u0438\\u0439\"\n            })]\n          })]\n        })]\n      })]\n    }), _jsx(Pressable, {\n      onPress: calculate,\n      children: _jsxs(LinearGradient, {\n        colors: [theme.primary, (_theme$accent = theme.accent) != null ? _theme$accent : theme.primary],\n        start: {\n          x: 0,\n          y: 0\n        },\n        end: {\n          x: 1,\n          y: 0\n        },\n        style: [styles.calculateBtn, {\n          shadowColor: theme.primary\n        }],\n        children: [_jsx(Ionicons, {\n          name: \"calculator\",\n          size: 20,\n          color: \"#fff\"\n        }), _jsx(Text, {\n          style: [styles.calculateBtnText, {\n            color: '#fff'\n          }],\n          children: \"\\u0420\\u0430\\u0441\\u0441\\u0447\\u0438\\u0442\\u0430\\u0442\\u044C \\u043A\\u043B\\u0438\\u0440\\u0435\\u043D\\u0441\"\n        })]\n      })\n    }), result !== null && function () {\n      var cat = classifyClCr(result);\n      return _jsxs(View, {\n        style: [styles.resultCard, {\n          borderColor: cat.color,\n          shadowColor: cat.color,\n          backgroundColor: theme.card\n        }],\n        children: [_jsxs(View, {\n          style: styles.resultHeader,\n          children: [_jsx(Ionicons, {\n            name: \"checkmark-circle\",\n            size: 24,\n            color: cat.color\n          }), _jsx(Text, {\n            style: [styles.resultTitle, {\n              color: theme.mutted\n            }],\n            children: \"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\"\n          })]\n        }), _jsxs(View, {\n          style: styles.resultValueContainer,\n          children: [_jsx(Text, {\n            style: [styles.resultValue, {\n              color: cat.color\n            }],\n            children: result\n          }), _jsx(Text, {\n            style: [styles.resultUnit, {\n              color: theme.mutted\n            }],\n            children: \"mL/min\"\n          })]\n        }), _jsxs(View, {\n          style: [styles.resultInfo, {\n            backgroundColor: cat.bg\n          }],\n          children: [_jsx(Ionicons, {\n            name: \"information-circle-outline\",\n            size: 16,\n            color: cat.color\n          }), _jsx(Text, {\n            style: [styles.resultInfoText, {\n              color: cat.color\n            }],\n            children: cat.label\n          })]\n        })]\n      });\n    }()]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    padding: 20,\n    backgroundColor: '#F8FAFC',\n    paddingBottom: 100\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 20,\n    gap: 12\n  },\n  headerIcon: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    backgroundColor: '#EBF5FF',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  headerText: {\n    flex: 1\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '800',\n    color: '#0F172A',\n    letterSpacing: -0.5\n  },\n  subtitle: {\n    color: '#64748B',\n    fontSize: 14,\n    marginTop: 2\n  },\n  card: {\n    backgroundColor: '#fff',\n    borderRadius: 20,\n    padding: 20,\n    marginBottom: 16,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.05,\n    shadowRadius: 8,\n    elevation: 2\n  },\n  formGroup: {\n    marginBottom: 16\n  },\n  label: {\n    fontSize: 14,\n    color: '#475569',\n    marginBottom: 8,\n    fontWeight: '600'\n  },\n  inputWrapper: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderWidth: 1.5,\n    borderColor: '#E2E8F0',\n    borderRadius: 12,\n    backgroundColor: '#F8FAFC',\n    paddingHorizontal: 12\n  },\n  inputIcon: {\n    marginRight: 8\n  },\n  input: {\n    flex: 1,\n    padding: 12,\n    fontSize: 16,\n    color: '#0F172A'\n  },\n  rowDouble: {\n    flexDirection: 'row',\n    marginBottom: 0\n  },\n  rowInput: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 8\n  },\n  unitToggle: {\n    flexDirection: 'row',\n    borderRadius: 10,\n    overflow: 'hidden',\n    borderWidth: 1.5,\n    borderColor: '#E2E8F0',\n    backgroundColor: '#F8FAFC'\n  },\n  unitBtn: {\n    paddingVertical: 10,\n    paddingHorizontal: 16,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  unitBtnActive: {\n    backgroundColor: '#007AFF'\n  },\n  unitText: {\n    color: '#64748B',\n    fontSize: 14,\n    fontWeight: '600'\n  },\n  unitTextActive: {\n    color: '#fff'\n  },\n  genderToggle: {\n    flexDirection: 'row',\n    gap: 8\n  },\n  genderBtn: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 14,\n    borderRadius: 12,\n    backgroundColor: '#F1F5F9',\n    gap: 6\n  },\n  genderBtnActive: {\n    backgroundColor: '#8B5CF6'\n  },\n  genderText: {\n    color: '#64748B',\n    fontSize: 15,\n    fontWeight: '600'\n  },\n  genderTextActive: {\n    color: '#fff'\n  },\n  calculateBtn: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 16,\n    borderRadius: 14,\n    gap: 8,\n    shadowColor: '#007AFF',\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n    elevation: 4\n  },\n  calculateBtnText: {\n    color: '#fff',\n    fontWeight: '700',\n    fontSize: 16\n  },\n  resultCard: {\n    marginTop: 16,\n    padding: 20,\n    borderRadius: 20,\n    backgroundColor: '#fff',\n    borderWidth: 2,\n    borderColor: '#10B981',\n    shadowColor: '#10B981',\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 12,\n    elevation: 3\n  },\n  resultHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 12,\n    gap: 8\n  },\n  resultTitle: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#475569'\n  },\n  resultValueContainer: {\n    flexDirection: 'row',\n    alignItems: 'baseline',\n    marginBottom: 12\n  },\n  resultValue: {\n    fontSize: 48,\n    fontWeight: '800',\n    color: '#0F172A',\n    letterSpacing: -1\n  },\n  resultUnit: {\n    fontSize: 20,\n    color: '#64748B',\n    marginLeft: 8,\n    fontWeight: '600'\n  },\n  resultInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#F0FDF4',\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    borderRadius: 8,\n    gap: 6\n  },\n  resultInfoText: {\n    fontSize: 13,\n    color: '#059669',\n    fontWeight: '600'\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","TextInput","StyleSheet","ScrollView","Pressable","useTheme","Toast","auth","db","collection","addDoc","serverTimestamp","Ionicons","MaterialCommunityIcons","LinearGradient","jsx","_jsx","jsxs","_jsxs","round","value","decimals","arguments","length","undefined","Math","pow","cockcroftGault","weightKg","ageYears","serumCrMgDl","isFemale","sexFactor","cr","CalculatorScreen","_ref","_theme$accent","navigation","_useTheme","theme","_useState","_useState2","_slicedToArray","weight","setWeight","_useState3","_useState4","age","setAge","_useState5","_useState6","creatinine","setCreatinine","_useState7","_useState8","patientName","setPatientName","_useState9","_useState0","weightUnit","setWeightUnit","_useState1","_useState10","creatinineUnit","setCreatinineUnit","_useState11","_useState12","female","setFemale","_useState13","_useState14","result","setResult","calculate","_ref2","_asyncToGenerator","w","parseFloat","a","isNaN","show","type","text1","text2","creatMgDl","cg","rounded","user","currentUser","uid","weightRaw","String","creatinineRaw","creatinineMgDl","createdAt","e","message","apply","classifyClCr","val","alpha","label","color","mutted","bg","border","success","warning","danger","contentContainerStyle","styles","container","backgroundColor","background","showsVerticalScrollIndicator","children","style","header","headerIcon","name","size","primary","headerText","title","text","subtitle","card","formGroup","inputWrapper","inputIcon","input","onChangeText","placeholder","placeholderTextColor","rowInput","flex","keyboardType","unitToggle","onPress","unitBtn","unitBtnActive","unitText","unitTextActive","rowDouble","marginRight","paddingRight","width","marginBottom","genderToggle","genderBtn","borderColor","genderText","colors","accent","start","x","y","end","calculateBtn","shadowColor","calculateBtnText","cat","resultCard","resultHeader","resultTitle","resultValueContainer","resultValue","resultUnit","resultInfo","resultInfoText","create","padding","paddingBottom","flexDirection","alignItems","gap","height","borderRadius","justifyContent","fontSize","fontWeight","letterSpacing","marginTop","shadowOffset","shadowOpacity","shadowRadius","elevation","borderWidth","paddingHorizontal","overflow","paddingVertical","genderBtnActive","genderTextActive","marginLeft"],"sources":["C:/Study/MedicineCalc/MedicineCaclc/expo-app/screens/CalculatorScreen.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, Text, TextInput, StyleSheet, ScrollView, Pressable } from 'react-native';\r\nimport { useTheme } from '../components/ThemeContext';\r\nimport Toast from 'react-native-toast-message';\r\nimport { auth, db } from '../firebase/initFirebase';\r\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\r\nimport { Ionicons, MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\n\r\nfunction round(value: number, decimals = 2) {\r\n  return Math.round(value * Math.pow(10, decimals)) / Math.pow(10, decimals);\r\n}\r\n\r\nfunction cockcroftGault(weightKg: number, ageYears: number, serumCrMgDl: number, isFemale: boolean) {\r\n  const sexFactor = isFemale ? 0.85 : 1.0;\r\n  const cr = ((140 - ageYears) * weightKg) / (72 * serumCrMgDl);\r\n  return cr * sexFactor;\r\n}\r\n\r\nexport default function CalculatorScreen({ navigation }: { navigation?: any }) {\r\n  const { theme } = useTheme();\r\n  const [weight, setWeight] = useState('70');\r\n  const [age, setAge] = useState('40');\r\n  const [creatinine, setCreatinine] = useState('1.0');\r\n  const [patientName, setPatientName] = useState('');\r\n  const [weightUnit, setWeightUnit] = useState<'kg' | 'lb'>('kg');\r\n  const [creatinineUnit, setCreatinineUnit] = useState<'mg/dL' | 'umol/L'>('mg/dL');\r\n  const [female, setFemale] = useState(false);\r\n  const [result, setResult] = useState<number | null>(null);\r\n\r\n  const calculate = async () => {\r\n    const w = parseFloat(weight);\r\n    const a = parseFloat(age);\r\n    const cr = parseFloat(creatinine);\r\n    if (isNaN(w) || isNaN(a) || isNaN(cr) || cr <= 0) {\r\n      Toast.show({ type: 'error', text1: 'Ошибка', text2: 'Проверьте введённые значения' });\r\n      return;\r\n    }\r\n    const weightKg = weightUnit === 'lb' ? w * 0.45359237 : w;\r\n    const creatMgDl = creatinineUnit === 'umol/L' ? (cr / 88.4) : cr;\r\n\r\n    const cg = cockcroftGault(weightKg, a, creatMgDl, female);\r\n    const rounded = round(cg, 2);\r\n    setResult(rounded);\r\n\r\n    const user = auth.currentUser;\r\n    if (!user) {\r\n      Toast.show({ type: 'info', text1: 'Результат рассчитан', text2: 'Войдите, чтобы сохранить в историю' });\r\n      return;\r\n    }\r\n    try {\r\n      await addDoc(collection(db, 'users', user.uid, 'history'), {\r\n        patientName: patientName || null,\r\n        weightRaw: parseFloat(weight),\r\n        weightUnit,\r\n        weightKg: parseFloat(String(weightKg)),\r\n        age: parseFloat(age),\r\n        creatinineRaw: parseFloat(creatinine),\r\n        creatinineUnit,\r\n        creatinineMgDl: parseFloat(String(creatMgDl)),\r\n        female,\r\n        result: rounded,\r\n        createdAt: serverTimestamp()\r\n      });\r\n      Toast.show({ type: 'success', text1: 'Сохранено в облаке' });\r\n    } catch (e: any) {\r\n      Toast.show({ type: 'error', text1: 'Ошибка сохранения', text2: e.message || String(e) });\r\n    }\r\n  };\r\n\r\n  function classifyClCr(val: number | null) {\r\n    const alpha = '22';\r\n    if (val === null) return { label: '—', color: theme.mutted, bg: theme.border };\r\n    if (val >= 90) return { label: 'Норма', color: theme.success, bg: theme.success + alpha };\r\n    if (val >= 60) return { label: 'Лёгкое снижение', color: theme.warning, bg: theme.warning + alpha };\r\n    if (val >= 30) return { label: 'Умеренное снижение', color: theme.warning, bg: theme.warning + alpha };\r\n    if (val >= 15) return { label: 'Выраженное снижение', color: theme.danger, bg: theme.danger + alpha };\r\n    return { label: 'Терминальная почечная недостаточность', color: theme.danger, bg: theme.danger + alpha };\r\n  }\r\n\r\n  return (\r\n    <ScrollView \r\n      contentContainerStyle={[styles.container, { backgroundColor: theme.background }]}\r\n      showsVerticalScrollIndicator={false}\r\n    >\r\n      {/* Заголовок */}\r\n      <View style={styles.header}>\r\n        <View style={styles.headerIcon}>\r\n          <Ionicons name=\"calculator\" size={24} color={theme.primary} />\r\n        </View>\r\n        <View style={styles.headerText}>\r\n          <Text style={[styles.title, { color: theme.text }]}>Cockcroft–Gault</Text>\r\n          <Text style={[styles.subtitle, { color: theme.mutted }]}>Клиренс креатинина</Text>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Форма */}\r\n      <View style={[styles.card, { backgroundColor: theme.card }]}>\r\n        {/* Имя пациента */}\r\n        <View style={styles.formGroup}>\r\n          <Text style={styles.label}>Пациент</Text>\r\n          <View style={styles.inputWrapper}>\r\n              <Ionicons name=\"person-outline\" size={18} color={theme.mutted} style={styles.inputIcon} />\r\n            <TextInput \r\n                style={[styles.input, { color: theme.text }]} \r\n                value={patientName} \r\n                onChangeText={setPatientName} \r\n                placeholder=\"Имя (необязательно)\"\r\n                placeholderTextColor={theme.mutted}\r\n              />\r\n          </View>\r\n        </View>\r\n\r\n        {/* Вес */}\r\n        <View style={styles.formGroup}>\r\n          <Text style={styles.label}>Вес</Text>\r\n          <View style={styles.rowInput}>\r\n            <View style={[styles.inputWrapper, { flex: 1 }]}>\r\n              <MaterialCommunityIcons name=\"weight-kilogram\" size={18} color={theme.mutted} style={styles.inputIcon} />\r\n              <TextInput \r\n                style={[styles.input, { color: theme.text }]} \r\n                value={weight} \r\n                onChangeText={setWeight} \r\n                keyboardType=\"numeric\" \r\n                placeholder=\"70\"\r\n                placeholderTextColor={theme.mutted}\r\n              />\r\n            </View>\r\n            <View style={styles.unitToggle}>\r\n              <Pressable \r\n                onPress={() => setWeightUnit('kg')} \r\n                style={[styles.unitBtn, weightUnit === 'kg' && styles.unitBtnActive]}\r\n              >\r\n                <Text style={[styles.unitText, weightUnit === 'kg' && styles.unitTextActive]}>kg</Text>\r\n              </Pressable>\r\n              <Pressable \r\n                onPress={() => setWeightUnit('lb')} \r\n                style={[styles.unitBtn, weightUnit === 'lb' && styles.unitBtnActive]}\r\n              >\r\n                <Text style={[styles.unitText, weightUnit === 'lb' && styles.unitTextActive]}>lb</Text>\r\n              </Pressable>\r\n            </View>\r\n          </View>\r\n        </View>\r\n\r\n        {/* Возраст и креатинин в одну строку */}\r\n        <View style={styles.rowDouble}>\r\n          {/* Возраст */}\r\n          <View style={[styles.formGroup, { flex: 1, marginRight: 8 }]}>\r\n            <Text style={styles.label}>Возраст</Text>\r\n            <View style={styles.inputWrapper}>\r\n              <Ionicons name=\"calendar-outline\" size={18} color={theme.mutted} style={styles.inputIcon} />\r\n              <TextInput \r\n                style={[styles.input, { color: theme.text }]} \r\n                value={age} \r\n                onChangeText={setAge} \r\n                keyboardType=\"numeric\" \r\n                placeholder=\"40\"\r\n                placeholderTextColor={theme.mutted}\r\n              />\r\n            </View>\r\n          </View>\r\n\r\n          {/* Креатинин */}\r\n          <View style={[styles.formGroup, { flex: 1 }]}>\r\n            <Text style={styles.label}>Креатинин</Text>\r\n            <View style={styles.inputWrapper}>\r\n              <Ionicons name=\"water-outline\" size={18} color={theme.mutted} style={styles.inputIcon} />\r\n              <TextInput \r\n                style={[styles.input, { paddingRight: 4, color: theme.text }]} \r\n                value={creatinine} \r\n                onChangeText={setCreatinine} \r\n                keyboardType=\"numeric\" \r\n                placeholder=\"1.0\"\r\n                placeholderTextColor={theme.mutted}\r\n              />\r\n            </View>\r\n          </View>\r\n        </View>\r\n\r\n        {/* Единицы креатинина */}\r\n        <View style={[styles.unitToggle, { width: '100%', marginBottom: 16 }]}>\r\n          <Pressable \r\n            onPress={() => setCreatinineUnit('mg/dL')} \r\n            style={[styles.unitBtn, { flex: 1 }, creatinineUnit === 'mg/dL' && { backgroundColor: theme.primary }]}\r\n          >\r\n            <Text style={[styles.unitText, creatinineUnit === 'mg/dL' && { color: '#fff' } ]}>mg/dL</Text>\r\n          </Pressable>\r\n          <Pressable \r\n            onPress={() => setCreatinineUnit('umol/L')} \r\n            style={[styles.unitBtn, { flex: 1 }, creatinineUnit === 'umol/L' && { backgroundColor: theme.primary }]}\r\n          >\r\n            <Text style={[styles.unitText, creatinineUnit === 'umol/L' && { color: '#fff' } ]}>µmol/L</Text>\r\n          </Pressable>\r\n        </View>\r\n\r\n        {/* Пол */}\r\n        <View style={styles.formGroup}>\r\n          <Text style={styles.label}>Пол</Text>\r\n          <View style={styles.genderToggle}>\r\n            <Pressable \r\n              onPress={() => setFemale(false)} \r\n              style={[styles.genderBtn, !female && { backgroundColor: theme.card }, !female && { borderColor: theme.border } , !female && { } , !female && { } , !female && { } , !female && { } , !female && { } , !female && { } , !female && { } , !female && { } , !female && { } , !female && { } , !female && { } , !female && { } , !female && { } , !female && { } ]}\r\n            >\r\n              <Ionicons \r\n                name=\"male\" \r\n                size={20} \r\n                color={!female ? theme.text : theme.mutted} \r\n              />\r\n              <Text style={[styles.genderText, !female && { color: theme.text } ]}>Мужской</Text>\r\n            </Pressable>\r\n            <Pressable \r\n              onPress={() => setFemale(true)} \r\n              style={[styles.genderBtn, female && { backgroundColor: theme.primary }]}\r\n            >\r\n              <Ionicons \r\n                name=\"female\" \r\n                size={20} \r\n                color={female ? '#fff' : theme.mutted} \r\n              />\r\n              <Text style={[styles.genderText, female && { color: '#fff' }]}>Женский</Text>\r\n            </Pressable>\r\n          </View>\r\n        </View>\r\n      </View>\r\n\r\n      {/* Кнопка расчёта */}\r\n          <Pressable onPress={calculate}>\r\n              <LinearGradient\r\n                colors={[theme.primary, theme.accent ?? theme.primary]}\r\n                start={{ x: 0, y: 0 }}\r\n                end={{ x: 1, y: 0 }}\r\n                style={[styles.calculateBtn, { shadowColor: theme.primary }]}\r\n              >\r\n                <Ionicons name=\"calculator\" size={20} color=\"#fff\" />\r\n                <Text style={[styles.calculateBtnText, { color: '#fff' }]}>Рассчитать клиренс</Text>\r\n              </LinearGradient>\r\n          </Pressable>\r\n\r\n      {/* Результат */}\r\n      {result !== null && (\r\n        (() => {\r\n          const cat = classifyClCr(result);\r\n            return (\r\n            <View style={[styles.resultCard, { borderColor: cat.color, shadowColor: cat.color, backgroundColor: theme.card } ]}>\r\n              <View style={styles.resultHeader}>\r\n                <Ionicons name=\"checkmark-circle\" size={24} color={cat.color} />\r\n                <Text style={[styles.resultTitle, { color: theme.mutted }]}>Результат</Text>\r\n              </View>\r\n              <View style={styles.resultValueContainer}>\r\n                <Text style={[styles.resultValue, { color: cat.color }]}>{result}</Text>\r\n                <Text style={[styles.resultUnit, { color: theme.mutted }]}>mL/min</Text>\r\n              </View>\r\n              <View style={[styles.resultInfo, { backgroundColor: cat.bg }] }>\r\n                <Ionicons name=\"information-circle-outline\" size={16} color={cat.color} />\r\n                <Text style={[styles.resultInfoText, { color: cat.color }]}>{cat.label}</Text>\r\n              </View>\r\n            </View>\r\n          );\r\n        })()\r\n      )}\r\n    </ScrollView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { \r\n    padding: 20, \r\n    backgroundColor: '#F8FAFC',\r\n    paddingBottom: 100\r\n  },\r\n\r\n  // Заголовок\r\n  header: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n    gap: 12\r\n  },\r\n  headerIcon: {\r\n    width: 48,\r\n    height: 48,\r\n    borderRadius: 24,\r\n    backgroundColor: '#EBF5FF',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  headerText: {\r\n    flex: 1\r\n  },\r\n  title: { \r\n    fontSize: 24, \r\n    fontWeight: '800', \r\n    color: '#0F172A',\r\n    letterSpacing: -0.5\r\n  },\r\n  subtitle: { \r\n    color: '#64748B', \r\n    fontSize: 14,\r\n    marginTop: 2\r\n  },\r\n\r\n  // Карточка формы\r\n  card: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: 20,\r\n    padding: 20,\r\n    marginBottom: 16,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.05,\r\n    shadowRadius: 8,\r\n    elevation: 2\r\n  },\r\n\r\n  // Группы формы\r\n  formGroup: { \r\n    marginBottom: 16\r\n  },\r\n  label: { \r\n    fontSize: 14, \r\n    color: '#475569', \r\n    marginBottom: 8,\r\n    fontWeight: '600'\r\n  },\r\n  inputWrapper: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    borderWidth: 1.5,\r\n    borderColor: '#E2E8F0',\r\n    borderRadius: 12,\r\n    backgroundColor: '#F8FAFC',\r\n    paddingHorizontal: 12\r\n  },\r\n  inputIcon: {\r\n    marginRight: 8\r\n  },\r\n  input: { \r\n    flex: 1,\r\n    padding: 12,\r\n    fontSize: 16,\r\n    color: '#0F172A'\r\n  },\r\n\r\n  // Строка с двумя полями\r\n  rowDouble: { \r\n    flexDirection: 'row',\r\n    marginBottom: 0\r\n  },\r\n  rowInput: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    gap: 8\r\n  },\r\n\r\n  // Переключатели единиц\r\n  unitToggle: { \r\n    flexDirection: 'row',\r\n    borderRadius: 10,\r\n    overflow: 'hidden',\r\n    borderWidth: 1.5,\r\n    borderColor: '#E2E8F0',\r\n    backgroundColor: '#F8FAFC'\r\n  },\r\n  unitBtn: { \r\n    paddingVertical: 10,\r\n    paddingHorizontal: 16,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  unitBtnActive: { \r\n    backgroundColor: '#007AFF'\r\n  },\r\n  unitText: { \r\n    color: '#64748B',\r\n    fontSize: 14,\r\n    fontWeight: '600'\r\n  },\r\n  unitTextActive: { \r\n    color: '#fff'\r\n  },\r\n\r\n  // Переключатель пола\r\n  genderToggle: {\r\n    flexDirection: 'row',\r\n    gap: 8\r\n  },\r\n  genderBtn: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingVertical: 14,\r\n    borderRadius: 12,\r\n    backgroundColor: '#F1F5F9',\r\n    gap: 6\r\n  },\r\n  genderBtnActive: {\r\n    backgroundColor: '#8B5CF6'\r\n  },\r\n  genderText: {\r\n    color: '#64748B',\r\n    fontSize: 15,\r\n    fontWeight: '600'\r\n  },\r\n  genderTextActive: {\r\n    color: '#fff'\r\n  },\r\n\r\n  // Кнопка расчёта\r\n  calculateBtn: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    padding: 16,\r\n    borderRadius: 14,\r\n    gap: 8,\r\n    shadowColor: '#007AFF',\r\n    shadowOffset: { width: 0, height: 4 },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 8,\r\n    elevation: 4\r\n  },\r\n  calculateBtnText: { \r\n    color: '#fff', \r\n    fontWeight: '700',\r\n    fontSize: 16\r\n  },\r\n\r\n  // Карточка результата\r\n  resultCard: { \r\n    marginTop: 16,\r\n    padding: 20,\r\n    borderRadius: 20,\r\n    backgroundColor: '#fff',\r\n    borderWidth: 2,\r\n    borderColor: '#10B981',\r\n    shadowColor: '#10B981',\r\n    shadowOffset: { width: 0, height: 4 },\r\n    shadowOpacity: 0.1,\r\n    shadowRadius: 12,\r\n    elevation: 3\r\n  },\r\n  resultHeader: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    marginBottom: 12,\r\n    gap: 8\r\n  },\r\n  resultTitle: {\r\n    fontSize: 16,\r\n    fontWeight: '600',\r\n    color: '#475569'\r\n  },\r\n  resultValueContainer: {\r\n    flexDirection: 'row',\r\n    alignItems: 'baseline',\r\n    marginBottom: 12\r\n  },\r\n  resultValue: { \r\n    fontSize: 48, \r\n    fontWeight: '800',\r\n    color: '#0F172A',\r\n    letterSpacing: -1\r\n  },\r\n  resultUnit: {\r\n    fontSize: 20,\r\n    color: '#64748B',\r\n    marginLeft: 8,\r\n    fontWeight: '600'\r\n  },\r\n  resultInfo: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    backgroundColor: '#F0FDF4',\r\n    paddingHorizontal: 12,\r\n    paddingVertical: 8,\r\n    borderRadius: 8,\r\n    gap: 6\r\n  },\r\n  resultInfoText: {\r\n    fontSize: 13,\r\n    color: '#059669',\r\n    fontWeight: '600'\r\n  }\r\n});"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,SAAA;AAExC,SAASC,QAAQ;AACjB,OAAOC,KAAK,MAAM,4BAA4B;AAC9C,SAASC,IAAI,EAAEC,EAAE;AACjB,SAASC,UAAU,EAAEC,MAAM,EAAEC,eAAe,QAAQ,oBAAoB;AACxE,SAASC,QAAQ,EAAEC,sBAAsB,QAAQ,oBAAoB;AACrE,SAASC,cAAc,QAAQ,sBAAsB;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAEtD,SAASC,KAAKA,CAACC,KAAa,EAAgB;EAAA,IAAdC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EACxC,OAAOG,IAAI,CAACN,KAAK,CAACC,KAAK,GAAGK,IAAI,CAACC,GAAG,CAAC,EAAE,EAAEL,QAAQ,CAAC,CAAC,GAAGI,IAAI,CAACC,GAAG,CAAC,EAAE,EAAEL,QAAQ,CAAC;AAC5E;AAEA,SAASM,cAAcA,CAACC,QAAgB,EAAEC,QAAgB,EAAEC,WAAmB,EAAEC,QAAiB,EAAE;EAClG,IAAMC,SAAS,GAAGD,QAAQ,GAAG,IAAI,GAAG,GAAG;EACvC,IAAME,EAAE,GAAI,CAAC,GAAG,GAAGJ,QAAQ,IAAID,QAAQ,IAAK,EAAE,GAAGE,WAAW,CAAC;EAC7D,OAAOG,EAAE,GAAGD,SAAS;AACvB;AAEA,eAAe,SAASE,gBAAgBA,CAAAC,IAAA,EAAuC;EAAA,IAAAC,aAAA;EAAA,IAApCC,UAAU,GAAAF,IAAA,CAAVE,UAAU;EACnD,IAAAC,SAAA,GAAkBjC,QAAQ,CAAC,CAAC;IAApBkC,KAAK,GAAAD,SAAA,CAALC,KAAK;EACb,IAAAC,SAAA,GAA4B1C,QAAQ,CAAC,IAAI,CAAC;IAAA2C,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAnCG,MAAM,GAAAF,UAAA;IAAEG,SAAS,GAAAH,UAAA;EACxB,IAAAI,UAAA,GAAsB/C,QAAQ,CAAC,IAAI,CAAC;IAAAgD,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA7BE,GAAG,GAAAD,UAAA;IAAEE,MAAM,GAAAF,UAAA;EAClB,IAAAG,UAAA,GAAoCnD,QAAQ,CAAC,KAAK,CAAC;IAAAoD,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAA5CE,UAAU,GAAAD,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAChC,IAAAG,UAAA,GAAsCvD,QAAQ,CAAC,EAAE,CAAC;IAAAwD,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAA3CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAClC,IAAAG,UAAA,GAAoC3D,QAAQ,CAAc,IAAI,CAAC;IAAA4D,UAAA,GAAAhB,cAAA,CAAAe,UAAA;IAAxDE,UAAU,GAAAD,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAChC,IAAAG,UAAA,GAA4C/D,QAAQ,CAAqB,OAAO,CAAC;IAAAgE,WAAA,GAAApB,cAAA,CAAAmB,UAAA;IAA1EE,cAAc,GAAAD,WAAA;IAAEE,iBAAiB,GAAAF,WAAA;EACxC,IAAAG,WAAA,GAA4BnE,QAAQ,CAAC,KAAK,CAAC;IAAAoE,WAAA,GAAAxB,cAAA,CAAAuB,WAAA;IAApCE,MAAM,GAAAD,WAAA;IAAEE,SAAS,GAAAF,WAAA;EACxB,IAAAG,WAAA,GAA4BvE,QAAQ,CAAgB,IAAI,CAAC;IAAAwE,WAAA,GAAA5B,cAAA,CAAA2B,WAAA;IAAlDE,MAAM,GAAAD,WAAA;IAAEE,SAAS,GAAAF,WAAA;EAExB,IAAMG,SAAS;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,aAAY;MAC5B,IAAMC,CAAC,GAAGC,UAAU,CAAClC,MAAM,CAAC;MAC5B,IAAMmC,CAAC,GAAGD,UAAU,CAAC9B,GAAG,CAAC;MACzB,IAAMd,EAAE,GAAG4C,UAAU,CAAC1B,UAAU,CAAC;MACjC,IAAI4B,KAAK,CAACH,CAAC,CAAC,IAAIG,KAAK,CAACD,CAAC,CAAC,IAAIC,KAAK,CAAC9C,EAAE,CAAC,IAAIA,EAAE,IAAI,CAAC,EAAE;QAChD3B,KAAK,CAAC0E,IAAI,CAAC;UAAEC,IAAI,EAAE,OAAO;UAAEC,KAAK,EAAE,QAAQ;UAAEC,KAAK,EAAE;QAA+B,CAAC,CAAC;QACrF;MACF;MACA,IAAMvD,QAAQ,GAAG+B,UAAU,KAAK,IAAI,GAAGiB,CAAC,GAAG,UAAU,GAAGA,CAAC;MACzD,IAAMQ,SAAS,GAAGrB,cAAc,KAAK,QAAQ,GAAI9B,EAAE,GAAG,IAAI,GAAIA,EAAE;MAEhE,IAAMoD,EAAE,GAAG1D,cAAc,CAACC,QAAQ,EAAEkD,CAAC,EAAEM,SAAS,EAAEjB,MAAM,CAAC;MACzD,IAAMmB,OAAO,GAAGnE,KAAK,CAACkE,EAAE,EAAE,CAAC,CAAC;MAC5Bb,SAAS,CAACc,OAAO,CAAC;MAElB,IAAMC,IAAI,GAAGhF,IAAI,CAACiF,WAAW;MAC7B,IAAI,CAACD,IAAI,EAAE;QACTjF,KAAK,CAAC0E,IAAI,CAAC;UAAEC,IAAI,EAAE,MAAM;UAAEC,KAAK,EAAE,qBAAqB;UAAEC,KAAK,EAAE;QAAqC,CAAC,CAAC;QACvG;MACF;MACA,IAAI;QACF,MAAMzE,MAAM,CAACD,UAAU,CAACD,EAAE,EAAE,OAAO,EAAE+E,IAAI,CAACE,GAAG,EAAE,SAAS,CAAC,EAAE;UACzDlC,WAAW,EAAEA,WAAW,IAAI,IAAI;UAChCmC,SAAS,EAAEb,UAAU,CAAClC,MAAM,CAAC;UAC7BgB,UAAU,EAAVA,UAAU;UACV/B,QAAQ,EAAEiD,UAAU,CAACc,MAAM,CAAC/D,QAAQ,CAAC,CAAC;UACtCmB,GAAG,EAAE8B,UAAU,CAAC9B,GAAG,CAAC;UACpB6C,aAAa,EAAEf,UAAU,CAAC1B,UAAU,CAAC;UACrCY,cAAc,EAAdA,cAAc;UACd8B,cAAc,EAAEhB,UAAU,CAACc,MAAM,CAACP,SAAS,CAAC,CAAC;UAC7CjB,MAAM,EAANA,MAAM;UACNI,MAAM,EAAEe,OAAO;UACfQ,SAAS,EAAEnF,eAAe,CAAC;QAC7B,CAAC,CAAC;QACFL,KAAK,CAAC0E,IAAI,CAAC;UAAEC,IAAI,EAAE,SAAS;UAAEC,KAAK,EAAE;QAAqB,CAAC,CAAC;MAC9D,CAAC,CAAC,OAAOa,CAAM,EAAE;QACfzF,KAAK,CAAC0E,IAAI,CAAC;UAAEC,IAAI,EAAE,OAAO;UAAEC,KAAK,EAAE,mBAAmB;UAAEC,KAAK,EAAEY,CAAC,CAACC,OAAO,IAAIL,MAAM,CAACI,CAAC;QAAE,CAAC,CAAC;MAC1F;IACF,CAAC;IAAA,gBAtCKtB,SAASA,CAAA;MAAA,OAAAC,KAAA,CAAAuB,KAAA,OAAA3E,SAAA;IAAA;EAAA,GAsCd;EAED,SAAS4E,YAAYA,CAACC,GAAkB,EAAE;IACxC,IAAMC,KAAK,GAAG,IAAI;IAClB,IAAID,GAAG,KAAK,IAAI,EAAE,OAAO;MAAEE,KAAK,EAAE,GAAG;MAAEC,KAAK,EAAE/D,KAAK,CAACgE,MAAM;MAAEC,EAAE,EAAEjE,KAAK,CAACkE;IAAO,CAAC;IAC9E,IAAIN,GAAG,IAAI,EAAE,EAAE,OAAO;MAAEE,KAAK,EAAE,OAAO;MAAEC,KAAK,EAAE/D,KAAK,CAACmE,OAAO;MAAEF,EAAE,EAAEjE,KAAK,CAACmE,OAAO,GAAGN;IAAM,CAAC;IACzF,IAAID,GAAG,IAAI,EAAE,EAAE,OAAO;MAAEE,KAAK,EAAE,iBAAiB;MAAEC,KAAK,EAAE/D,KAAK,CAACoE,OAAO;MAAEH,EAAE,EAAEjE,KAAK,CAACoE,OAAO,GAAGP;IAAM,CAAC;IACnG,IAAID,GAAG,IAAI,EAAE,EAAE,OAAO;MAAEE,KAAK,EAAE,oBAAoB;MAAEC,KAAK,EAAE/D,KAAK,CAACoE,OAAO;MAAEH,EAAE,EAAEjE,KAAK,CAACoE,OAAO,GAAGP;IAAM,CAAC;IACtG,IAAID,GAAG,IAAI,EAAE,EAAE,OAAO;MAAEE,KAAK,EAAE,qBAAqB;MAAEC,KAAK,EAAE/D,KAAK,CAACqE,MAAM;MAAEJ,EAAE,EAAEjE,KAAK,CAACqE,MAAM,GAAGR;IAAM,CAAC;IACrG,OAAO;MAAEC,KAAK,EAAE,uCAAuC;MAAEC,KAAK,EAAE/D,KAAK,CAACqE,MAAM;MAAEJ,EAAE,EAAEjE,KAAK,CAACqE,MAAM,GAAGR;IAAM,CAAC;EAC1G;EAEA,OACElF,KAAA,CAACf,UAAU;IACT0G,qBAAqB,EAAE,CAACC,MAAM,CAACC,SAAS,EAAE;MAAEC,eAAe,EAAEzE,KAAK,CAAC0E;IAAW,CAAC,CAAE;IACjFC,4BAA4B,EAAE,KAAM;IAAAC,QAAA,GAGpCjG,KAAA,CAACnB,IAAI;MAACqH,KAAK,EAAEN,MAAM,CAACO,MAAO;MAAAF,QAAA,GACzBnG,IAAA,CAACjB,IAAI;QAACqH,KAAK,EAAEN,MAAM,CAACQ,UAAW;QAAAH,QAAA,EAC7BnG,IAAA,CAACJ,QAAQ;UAAC2G,IAAI,EAAC,YAAY;UAACC,IAAI,EAAE,EAAG;UAAClB,KAAK,EAAE/D,KAAK,CAACkF;QAAQ,CAAE;MAAC,CAC1D,CAAC,EACPvG,KAAA,CAACnB,IAAI;QAACqH,KAAK,EAAEN,MAAM,CAACY,UAAW;QAAAP,QAAA,GAC7BnG,IAAA,CAAChB,IAAI;UAACoH,KAAK,EAAE,CAACN,MAAM,CAACa,KAAK,EAAE;YAAErB,KAAK,EAAE/D,KAAK,CAACqF;UAAK,CAAC,CAAE;UAAAT,QAAA,EAAC;QAAe,CAAM,CAAC,EAC1EnG,IAAA,CAAChB,IAAI;UAACoH,KAAK,EAAE,CAACN,MAAM,CAACe,QAAQ,EAAE;YAAEvB,KAAK,EAAE/D,KAAK,CAACgE;UAAO,CAAC,CAAE;UAAAY,QAAA,EAAC;QAAkB,CAAM,CAAC;MAAA,CAC9E,CAAC;IAAA,CACH,CAAC,EAGPjG,KAAA,CAACnB,IAAI;MAACqH,KAAK,EAAE,CAACN,MAAM,CAACgB,IAAI,EAAE;QAAEd,eAAe,EAAEzE,KAAK,CAACuF;MAAK,CAAC,CAAE;MAAAX,QAAA,GAE1DjG,KAAA,CAACnB,IAAI;QAACqH,KAAK,EAAEN,MAAM,CAACiB,SAAU;QAAAZ,QAAA,GAC5BnG,IAAA,CAAChB,IAAI;UAACoH,KAAK,EAAEN,MAAM,CAACT,KAAM;UAAAc,QAAA,EAAC;QAAO,CAAM,CAAC,EACzCjG,KAAA,CAACnB,IAAI;UAACqH,KAAK,EAAEN,MAAM,CAACkB,YAAa;UAAAb,QAAA,GAC7BnG,IAAA,CAACJ,QAAQ;YAAC2G,IAAI,EAAC,gBAAgB;YAACC,IAAI,EAAE,EAAG;YAAClB,KAAK,EAAE/D,KAAK,CAACgE,MAAO;YAACa,KAAK,EAAEN,MAAM,CAACmB;UAAU,CAAE,CAAC,EAC5FjH,IAAA,CAACf,SAAS;YACNmH,KAAK,EAAE,CAACN,MAAM,CAACoB,KAAK,EAAE;cAAE5B,KAAK,EAAE/D,KAAK,CAACqF;YAAK,CAAC,CAAE;YAC7CxG,KAAK,EAAEmC,WAAY;YACnB4E,YAAY,EAAE3E,cAAe;YAC7B4E,WAAW,EAAC,qGAAqB;YACjCC,oBAAoB,EAAE9F,KAAK,CAACgE;UAAO,CACpC,CAAC;QAAA,CACA,CAAC;MAAA,CACH,CAAC,EAGPrF,KAAA,CAACnB,IAAI;QAACqH,KAAK,EAAEN,MAAM,CAACiB,SAAU;QAAAZ,QAAA,GAC5BnG,IAAA,CAAChB,IAAI;UAACoH,KAAK,EAAEN,MAAM,CAACT,KAAM;UAAAc,QAAA,EAAC;QAAG,CAAM,CAAC,EACrCjG,KAAA,CAACnB,IAAI;UAACqH,KAAK,EAAEN,MAAM,CAACwB,QAAS;UAAAnB,QAAA,GAC3BjG,KAAA,CAACnB,IAAI;YAACqH,KAAK,EAAE,CAACN,MAAM,CAACkB,YAAY,EAAE;cAAEO,IAAI,EAAE;YAAE,CAAC,CAAE;YAAApB,QAAA,GAC9CnG,IAAA,CAACH,sBAAsB;cAAC0G,IAAI,EAAC,iBAAiB;cAACC,IAAI,EAAE,EAAG;cAAClB,KAAK,EAAE/D,KAAK,CAACgE,MAAO;cAACa,KAAK,EAAEN,MAAM,CAACmB;YAAU,CAAE,CAAC,EACzGjH,IAAA,CAACf,SAAS;cACRmH,KAAK,EAAE,CAACN,MAAM,CAACoB,KAAK,EAAE;gBAAE5B,KAAK,EAAE/D,KAAK,CAACqF;cAAK,CAAC,CAAE;cAC7CxG,KAAK,EAAEuB,MAAO;cACdwF,YAAY,EAAEvF,SAAU;cACxB4F,YAAY,EAAC,SAAS;cACtBJ,WAAW,EAAC,IAAI;cAChBC,oBAAoB,EAAE9F,KAAK,CAACgE;YAAO,CACpC,CAAC;UAAA,CACE,CAAC,EACPrF,KAAA,CAACnB,IAAI;YAACqH,KAAK,EAAEN,MAAM,CAAC2B,UAAW;YAAAtB,QAAA,GAC7BnG,IAAA,CAACZ,SAAS;cACRsI,OAAO,EAAE,SAATA,OAAOA,CAAA;gBAAA,OAAQ9E,aAAa,CAAC,IAAI,CAAC;cAAA,CAAC;cACnCwD,KAAK,EAAE,CAACN,MAAM,CAAC6B,OAAO,EAAEhF,UAAU,KAAK,IAAI,IAAImD,MAAM,CAAC8B,aAAa,CAAE;cAAAzB,QAAA,EAErEnG,IAAA,CAAChB,IAAI;gBAACoH,KAAK,EAAE,CAACN,MAAM,CAAC+B,QAAQ,EAAElF,UAAU,KAAK,IAAI,IAAImD,MAAM,CAACgC,cAAc,CAAE;gBAAA3B,QAAA,EAAC;cAAE,CAAM;YAAC,CAC9E,CAAC,EACZnG,IAAA,CAACZ,SAAS;cACRsI,OAAO,EAAE,SAATA,OAAOA,CAAA;gBAAA,OAAQ9E,aAAa,CAAC,IAAI,CAAC;cAAA,CAAC;cACnCwD,KAAK,EAAE,CAACN,MAAM,CAAC6B,OAAO,EAAEhF,UAAU,KAAK,IAAI,IAAImD,MAAM,CAAC8B,aAAa,CAAE;cAAAzB,QAAA,EAErEnG,IAAA,CAAChB,IAAI;gBAACoH,KAAK,EAAE,CAACN,MAAM,CAAC+B,QAAQ,EAAElF,UAAU,KAAK,IAAI,IAAImD,MAAM,CAACgC,cAAc,CAAE;gBAAA3B,QAAA,EAAC;cAAE,CAAM;YAAC,CAC9E,CAAC;UAAA,CACR,CAAC;QAAA,CACH,CAAC;MAAA,CACH,CAAC,EAGPjG,KAAA,CAACnB,IAAI;QAACqH,KAAK,EAAEN,MAAM,CAACiC,SAAU;QAAA5B,QAAA,GAE5BjG,KAAA,CAACnB,IAAI;UAACqH,KAAK,EAAE,CAACN,MAAM,CAACiB,SAAS,EAAE;YAAEQ,IAAI,EAAE,CAAC;YAAES,WAAW,EAAE;UAAE,CAAC,CAAE;UAAA7B,QAAA,GAC3DnG,IAAA,CAAChB,IAAI;YAACoH,KAAK,EAAEN,MAAM,CAACT,KAAM;YAAAc,QAAA,EAAC;UAAO,CAAM,CAAC,EACzCjG,KAAA,CAACnB,IAAI;YAACqH,KAAK,EAAEN,MAAM,CAACkB,YAAa;YAAAb,QAAA,GAC/BnG,IAAA,CAACJ,QAAQ;cAAC2G,IAAI,EAAC,kBAAkB;cAACC,IAAI,EAAE,EAAG;cAAClB,KAAK,EAAE/D,KAAK,CAACgE,MAAO;cAACa,KAAK,EAAEN,MAAM,CAACmB;YAAU,CAAE,CAAC,EAC5FjH,IAAA,CAACf,SAAS;cACRmH,KAAK,EAAE,CAACN,MAAM,CAACoB,KAAK,EAAE;gBAAE5B,KAAK,EAAE/D,KAAK,CAACqF;cAAK,CAAC,CAAE;cAC7CxG,KAAK,EAAE2B,GAAI;cACXoF,YAAY,EAAEnF,MAAO;cACrBwF,YAAY,EAAC,SAAS;cACtBJ,WAAW,EAAC,IAAI;cAChBC,oBAAoB,EAAE9F,KAAK,CAACgE;YAAO,CACpC,CAAC;UAAA,CACE,CAAC;QAAA,CACH,CAAC,EAGPrF,KAAA,CAACnB,IAAI;UAACqH,KAAK,EAAE,CAACN,MAAM,CAACiB,SAAS,EAAE;YAAEQ,IAAI,EAAE;UAAE,CAAC,CAAE;UAAApB,QAAA,GAC3CnG,IAAA,CAAChB,IAAI;YAACoH,KAAK,EAAEN,MAAM,CAACT,KAAM;YAAAc,QAAA,EAAC;UAAS,CAAM,CAAC,EAC3CjG,KAAA,CAACnB,IAAI;YAACqH,KAAK,EAAEN,MAAM,CAACkB,YAAa;YAAAb,QAAA,GAC/BnG,IAAA,CAACJ,QAAQ;cAAC2G,IAAI,EAAC,eAAe;cAACC,IAAI,EAAE,EAAG;cAAClB,KAAK,EAAE/D,KAAK,CAACgE,MAAO;cAACa,KAAK,EAAEN,MAAM,CAACmB;YAAU,CAAE,CAAC,EACzFjH,IAAA,CAACf,SAAS;cACRmH,KAAK,EAAE,CAACN,MAAM,CAACoB,KAAK,EAAE;gBAAEe,YAAY,EAAE,CAAC;gBAAE3C,KAAK,EAAE/D,KAAK,CAACqF;cAAK,CAAC,CAAE;cAC9DxG,KAAK,EAAE+B,UAAW;cAClBgF,YAAY,EAAE/E,aAAc;cAC5BoF,YAAY,EAAC,SAAS;cACtBJ,WAAW,EAAC,KAAK;cACjBC,oBAAoB,EAAE9F,KAAK,CAACgE;YAAO,CACpC,CAAC;UAAA,CACE,CAAC;QAAA,CACH,CAAC;MAAA,CACH,CAAC,EAGPrF,KAAA,CAACnB,IAAI;QAACqH,KAAK,EAAE,CAACN,MAAM,CAAC2B,UAAU,EAAE;UAAES,KAAK,EAAE,MAAM;UAAEC,YAAY,EAAE;QAAG,CAAC,CAAE;QAAAhC,QAAA,GACpEnG,IAAA,CAACZ,SAAS;UACRsI,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQ1E,iBAAiB,CAAC,OAAO,CAAC;UAAA,CAAC;UAC1CoD,KAAK,EAAE,CAACN,MAAM,CAAC6B,OAAO,EAAE;YAAEJ,IAAI,EAAE;UAAE,CAAC,EAAExE,cAAc,KAAK,OAAO,IAAI;YAAEiD,eAAe,EAAEzE,KAAK,CAACkF;UAAQ,CAAC,CAAE;UAAAN,QAAA,EAEvGnG,IAAA,CAAChB,IAAI;YAACoH,KAAK,EAAE,CAACN,MAAM,CAAC+B,QAAQ,EAAE9E,cAAc,KAAK,OAAO,IAAI;cAAEuC,KAAK,EAAE;YAAO,CAAC,CAAG;YAAAa,QAAA,EAAC;UAAK,CAAM;QAAC,CACrF,CAAC,EACZnG,IAAA,CAACZ,SAAS;UACRsI,OAAO,EAAE,SAATA,OAAOA,CAAA;YAAA,OAAQ1E,iBAAiB,CAAC,QAAQ,CAAC;UAAA,CAAC;UAC3CoD,KAAK,EAAE,CAACN,MAAM,CAAC6B,OAAO,EAAE;YAAEJ,IAAI,EAAE;UAAE,CAAC,EAAExE,cAAc,KAAK,QAAQ,IAAI;YAAEiD,eAAe,EAAEzE,KAAK,CAACkF;UAAQ,CAAC,CAAE;UAAAN,QAAA,EAExGnG,IAAA,CAAChB,IAAI;YAACoH,KAAK,EAAE,CAACN,MAAM,CAAC+B,QAAQ,EAAE9E,cAAc,KAAK,QAAQ,IAAI;cAAEuC,KAAK,EAAE;YAAO,CAAC,CAAG;YAAAa,QAAA,EAAC;UAAM,CAAM;QAAC,CACvF,CAAC;MAAA,CACR,CAAC,EAGPjG,KAAA,CAACnB,IAAI;QAACqH,KAAK,EAAEN,MAAM,CAACiB,SAAU;QAAAZ,QAAA,GAC5BnG,IAAA,CAAChB,IAAI;UAACoH,KAAK,EAAEN,MAAM,CAACT,KAAM;UAAAc,QAAA,EAAC;QAAG,CAAM,CAAC,EACrCjG,KAAA,CAACnB,IAAI;UAACqH,KAAK,EAAEN,MAAM,CAACsC,YAAa;UAAAjC,QAAA,GAC/BjG,KAAA,CAACd,SAAS;YACRsI,OAAO,EAAE,SAATA,OAAOA,CAAA;cAAA,OAAQtE,SAAS,CAAC,KAAK,CAAC;YAAA,CAAC;YAChCgD,KAAK,EAAE,CAACN,MAAM,CAACuC,SAAS,EAAE,CAAClF,MAAM,IAAI;cAAE6C,eAAe,EAAEzE,KAAK,CAACuF;YAAK,CAAC,EAAE,CAAC3D,MAAM,IAAI;cAAEmF,WAAW,EAAE/G,KAAK,CAACkE;YAAO,CAAC,EAAG,CAACtC,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,EAAG,CAACA,MAAM,IAAI,CAAE,CAAC,CAAG;YAAAgD,QAAA,GAE/VnG,IAAA,CAACJ,QAAQ;cACP2G,IAAI,EAAC,MAAM;cACXC,IAAI,EAAE,EAAG;cACTlB,KAAK,EAAE,CAACnC,MAAM,GAAG5B,KAAK,CAACqF,IAAI,GAAGrF,KAAK,CAACgE;YAAO,CAC5C,CAAC,EACFvF,IAAA,CAAChB,IAAI;cAACoH,KAAK,EAAE,CAACN,MAAM,CAACyC,UAAU,EAAE,CAACpF,MAAM,IAAI;gBAAEmC,KAAK,EAAE/D,KAAK,CAACqF;cAAK,CAAC,CAAG;cAAAT,QAAA,EAAC;YAAO,CAAM,CAAC;UAAA,CAC1E,CAAC,EACZjG,KAAA,CAACd,SAAS;YACRsI,OAAO,EAAE,SAATA,OAAOA,CAAA;cAAA,OAAQtE,SAAS,CAAC,IAAI,CAAC;YAAA,CAAC;YAC/BgD,KAAK,EAAE,CAACN,MAAM,CAACuC,SAAS,EAAElF,MAAM,IAAI;cAAE6C,eAAe,EAAEzE,KAAK,CAACkF;YAAQ,CAAC,CAAE;YAAAN,QAAA,GAExEnG,IAAA,CAACJ,QAAQ;cACP2G,IAAI,EAAC,QAAQ;cACbC,IAAI,EAAE,EAAG;cACTlB,KAAK,EAAEnC,MAAM,GAAG,MAAM,GAAG5B,KAAK,CAACgE;YAAO,CACvC,CAAC,EACFvF,IAAA,CAAChB,IAAI;cAACoH,KAAK,EAAE,CAACN,MAAM,CAACyC,UAAU,EAAEpF,MAAM,IAAI;gBAAEmC,KAAK,EAAE;cAAO,CAAC,CAAE;cAAAa,QAAA,EAAC;YAAO,CAAM,CAAC;UAAA,CACpE,CAAC;QAAA,CACR,CAAC;MAAA,CACH,CAAC;IAAA,CACH,CAAC,EAGHnG,IAAA,CAACZ,SAAS;MAACsI,OAAO,EAAEjE,SAAU;MAAA0C,QAAA,EAC1BjG,KAAA,CAACJ,cAAc;QACb0I,MAAM,EAAE,CAACjH,KAAK,CAACkF,OAAO,GAAArF,aAAA,GAAEG,KAAK,CAACkH,MAAM,YAAArH,aAAA,GAAIG,KAAK,CAACkF,OAAO,CAAE;QACvDiC,KAAK,EAAE;UAAEC,CAAC,EAAE,CAAC;UAAEC,CAAC,EAAE;QAAE,CAAE;QACtBC,GAAG,EAAE;UAAEF,CAAC,EAAE,CAAC;UAAEC,CAAC,EAAE;QAAE,CAAE;QACpBxC,KAAK,EAAE,CAACN,MAAM,CAACgD,YAAY,EAAE;UAAEC,WAAW,EAAExH,KAAK,CAACkF;QAAQ,CAAC,CAAE;QAAAN,QAAA,GAE7DnG,IAAA,CAACJ,QAAQ;UAAC2G,IAAI,EAAC,YAAY;UAACC,IAAI,EAAE,EAAG;UAAClB,KAAK,EAAC;QAAM,CAAE,CAAC,EACrDtF,IAAA,CAAChB,IAAI;UAACoH,KAAK,EAAE,CAACN,MAAM,CAACkD,gBAAgB,EAAE;YAAE1D,KAAK,EAAE;UAAO,CAAC,CAAE;UAAAa,QAAA,EAAC;QAAkB,CAAM,CAAC;MAAA,CACtE;IAAC,CACV,CAAC,EAGf5C,MAAM,KAAK,IAAI,IACb,YAAM;MACL,IAAM0F,GAAG,GAAG/D,YAAY,CAAC3B,MAAM,CAAC;MAC9B,OACArD,KAAA,CAACnB,IAAI;QAACqH,KAAK,EAAE,CAACN,MAAM,CAACoD,UAAU,EAAE;UAAEZ,WAAW,EAAEW,GAAG,CAAC3D,KAAK;UAAEyD,WAAW,EAAEE,GAAG,CAAC3D,KAAK;UAAEU,eAAe,EAAEzE,KAAK,CAACuF;QAAK,CAAC,CAAG;QAAAX,QAAA,GACjHjG,KAAA,CAACnB,IAAI;UAACqH,KAAK,EAAEN,MAAM,CAACqD,YAAa;UAAAhD,QAAA,GAC/BnG,IAAA,CAACJ,QAAQ;YAAC2G,IAAI,EAAC,kBAAkB;YAACC,IAAI,EAAE,EAAG;YAAClB,KAAK,EAAE2D,GAAG,CAAC3D;UAAM,CAAE,CAAC,EAChEtF,IAAA,CAAChB,IAAI;YAACoH,KAAK,EAAE,CAACN,MAAM,CAACsD,WAAW,EAAE;cAAE9D,KAAK,EAAE/D,KAAK,CAACgE;YAAO,CAAC,CAAE;YAAAY,QAAA,EAAC;UAAS,CAAM,CAAC;QAAA,CACxE,CAAC,EACPjG,KAAA,CAACnB,IAAI;UAACqH,KAAK,EAAEN,MAAM,CAACuD,oBAAqB;UAAAlD,QAAA,GACvCnG,IAAA,CAAChB,IAAI;YAACoH,KAAK,EAAE,CAACN,MAAM,CAACwD,WAAW,EAAE;cAAEhE,KAAK,EAAE2D,GAAG,CAAC3D;YAAM,CAAC,CAAE;YAAAa,QAAA,EAAE5C;UAAM,CAAO,CAAC,EACxEvD,IAAA,CAAChB,IAAI;YAACoH,KAAK,EAAE,CAACN,MAAM,CAACyD,UAAU,EAAE;cAAEjE,KAAK,EAAE/D,KAAK,CAACgE;YAAO,CAAC,CAAE;YAAAY,QAAA,EAAC;UAAM,CAAM,CAAC;QAAA,CACpE,CAAC,EACPjG,KAAA,CAACnB,IAAI;UAACqH,KAAK,EAAE,CAACN,MAAM,CAAC0D,UAAU,EAAE;YAAExD,eAAe,EAAEiD,GAAG,CAACzD;UAAG,CAAC,CAAG;UAAAW,QAAA,GAC7DnG,IAAA,CAACJ,QAAQ;YAAC2G,IAAI,EAAC,4BAA4B;YAACC,IAAI,EAAE,EAAG;YAAClB,KAAK,EAAE2D,GAAG,CAAC3D;UAAM,CAAE,CAAC,EAC1EtF,IAAA,CAAChB,IAAI;YAACoH,KAAK,EAAE,CAACN,MAAM,CAAC2D,cAAc,EAAE;cAAEnE,KAAK,EAAE2D,GAAG,CAAC3D;YAAM,CAAC,CAAE;YAAAa,QAAA,EAAE8C,GAAG,CAAC5D;UAAK,CAAO,CAAC;QAAA,CAC1E,CAAC;MAAA,CACH,CAAC;IAEX,CAAC,CAAE,CACJ;EAAA,CACS,CAAC;AAEjB;AAEA,IAAMS,MAAM,GAAG5G,UAAU,CAACwK,MAAM,CAAC;EAC/B3D,SAAS,EAAE;IACT4D,OAAO,EAAE,EAAE;IACX3D,eAAe,EAAE,SAAS;IAC1B4D,aAAa,EAAE;EACjB,CAAC;EAGDvD,MAAM,EAAE;IACNwD,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpB3B,YAAY,EAAE,EAAE;IAChB4B,GAAG,EAAE;EACP,CAAC;EACDzD,UAAU,EAAE;IACV4B,KAAK,EAAE,EAAE;IACT8B,MAAM,EAAE,EAAE;IACVC,YAAY,EAAE,EAAE;IAChBjE,eAAe,EAAE,SAAS;IAC1BkE,cAAc,EAAE,QAAQ;IACxBJ,UAAU,EAAE;EACd,CAAC;EACDpD,UAAU,EAAE;IACVa,IAAI,EAAE;EACR,CAAC;EACDZ,KAAK,EAAE;IACLwD,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,KAAK;IACjB9E,KAAK,EAAE,SAAS;IAChB+E,aAAa,EAAE,CAAC;EAClB,CAAC;EACDxD,QAAQ,EAAE;IACRvB,KAAK,EAAE,SAAS;IAChB6E,QAAQ,EAAE,EAAE;IACZG,SAAS,EAAE;EACb,CAAC;EAGDxD,IAAI,EAAE;IACJd,eAAe,EAAE,MAAM;IACvBiE,YAAY,EAAE,EAAE;IAChBN,OAAO,EAAE,EAAE;IACXxB,YAAY,EAAE,EAAE;IAChBY,WAAW,EAAE,MAAM;IACnBwB,YAAY,EAAE;MAAErC,KAAK,EAAE,CAAC;MAAE8B,MAAM,EAAE;IAAE,CAAC;IACrCQ,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE,CAAC;IACfC,SAAS,EAAE;EACb,CAAC;EAGD3D,SAAS,EAAE;IACToB,YAAY,EAAE;EAChB,CAAC;EACD9C,KAAK,EAAE;IACL8E,QAAQ,EAAE,EAAE;IACZ7E,KAAK,EAAE,SAAS;IAChB6C,YAAY,EAAE,CAAC;IACfiC,UAAU,EAAE;EACd,CAAC;EACDpD,YAAY,EAAE;IACZ6C,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBa,WAAW,EAAE,GAAG;IAChBrC,WAAW,EAAE,SAAS;IACtB2B,YAAY,EAAE,EAAE;IAChBjE,eAAe,EAAE,SAAS;IAC1B4E,iBAAiB,EAAE;EACrB,CAAC;EACD3D,SAAS,EAAE;IACTe,WAAW,EAAE;EACf,CAAC;EACDd,KAAK,EAAE;IACLK,IAAI,EAAE,CAAC;IACPoC,OAAO,EAAE,EAAE;IACXQ,QAAQ,EAAE,EAAE;IACZ7E,KAAK,EAAE;EACT,CAAC;EAGDyC,SAAS,EAAE;IACT8B,aAAa,EAAE,KAAK;IACpB1B,YAAY,EAAE;EAChB,CAAC;EACDb,QAAQ,EAAE;IACRuC,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBC,GAAG,EAAE;EACP,CAAC;EAGDtC,UAAU,EAAE;IACVoC,aAAa,EAAE,KAAK;IACpBI,YAAY,EAAE,EAAE;IAChBY,QAAQ,EAAE,QAAQ;IAClBF,WAAW,EAAE,GAAG;IAChBrC,WAAW,EAAE,SAAS;IACtBtC,eAAe,EAAE;EACnB,CAAC;EACD2B,OAAO,EAAE;IACPmD,eAAe,EAAE,EAAE;IACnBF,iBAAiB,EAAE,EAAE;IACrBd,UAAU,EAAE,QAAQ;IACpBI,cAAc,EAAE;EAClB,CAAC;EACDtC,aAAa,EAAE;IACb5B,eAAe,EAAE;EACnB,CAAC;EACD6B,QAAQ,EAAE;IACRvC,KAAK,EAAE,SAAS;IAChB6E,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd,CAAC;EACDtC,cAAc,EAAE;IACdxC,KAAK,EAAE;EACT,CAAC;EAGD8C,YAAY,EAAE;IACZyB,aAAa,EAAE,KAAK;IACpBE,GAAG,EAAE;EACP,CAAC;EACD1B,SAAS,EAAE;IACTd,IAAI,EAAE,CAAC;IACPsC,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBI,cAAc,EAAE,QAAQ;IACxBY,eAAe,EAAE,EAAE;IACnBb,YAAY,EAAE,EAAE;IAChBjE,eAAe,EAAE,SAAS;IAC1B+D,GAAG,EAAE;EACP,CAAC;EACDgB,eAAe,EAAE;IACf/E,eAAe,EAAE;EACnB,CAAC;EACDuC,UAAU,EAAE;IACVjD,KAAK,EAAE,SAAS;IAChB6E,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE;EACd,CAAC;EACDY,gBAAgB,EAAE;IAChB1F,KAAK,EAAE;EACT,CAAC;EAGDwD,YAAY,EAAE;IACZe,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBI,cAAc,EAAE,QAAQ;IACxBP,OAAO,EAAE,EAAE;IACXM,YAAY,EAAE,EAAE;IAChBF,GAAG,EAAE,CAAC;IACNhB,WAAW,EAAE,SAAS;IACtBwB,YAAY,EAAE;MAAErC,KAAK,EAAE,CAAC;MAAE8B,MAAM,EAAE;IAAE,CAAC;IACrCQ,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,CAAC;IACfC,SAAS,EAAE;EACb,CAAC;EACD1B,gBAAgB,EAAE;IAChB1D,KAAK,EAAE,MAAM;IACb8E,UAAU,EAAE,KAAK;IACjBD,QAAQ,EAAE;EACZ,CAAC;EAGDjB,UAAU,EAAE;IACVoB,SAAS,EAAE,EAAE;IACbX,OAAO,EAAE,EAAE;IACXM,YAAY,EAAE,EAAE;IAChBjE,eAAe,EAAE,MAAM;IACvB2E,WAAW,EAAE,CAAC;IACdrC,WAAW,EAAE,SAAS;IACtBS,WAAW,EAAE,SAAS;IACtBwB,YAAY,EAAE;MAAErC,KAAK,EAAE,CAAC;MAAE8B,MAAM,EAAE;IAAE,CAAC;IACrCQ,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE,EAAE;IAChBC,SAAS,EAAE;EACb,CAAC;EACDvB,YAAY,EAAE;IACZU,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpB3B,YAAY,EAAE,EAAE;IAChB4B,GAAG,EAAE;EACP,CAAC;EACDX,WAAW,EAAE;IACXe,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,KAAK;IACjB9E,KAAK,EAAE;EACT,CAAC;EACD+D,oBAAoB,EAAE;IACpBQ,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,UAAU;IACtB3B,YAAY,EAAE;EAChB,CAAC;EACDmB,WAAW,EAAE;IACXa,QAAQ,EAAE,EAAE;IACZC,UAAU,EAAE,KAAK;IACjB9E,KAAK,EAAE,SAAS;IAChB+E,aAAa,EAAE,CAAC;EAClB,CAAC;EACDd,UAAU,EAAE;IACVY,QAAQ,EAAE,EAAE;IACZ7E,KAAK,EAAE,SAAS;IAChB2F,UAAU,EAAE,CAAC;IACbb,UAAU,EAAE;EACd,CAAC;EACDZ,UAAU,EAAE;IACVK,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpB9D,eAAe,EAAE,SAAS;IAC1B4E,iBAAiB,EAAE,EAAE;IACrBE,eAAe,EAAE,CAAC;IAClBb,YAAY,EAAE,CAAC;IACfF,GAAG,EAAE;EACP,CAAC;EACDN,cAAc,EAAE;IACdU,QAAQ,EAAE,EAAE;IACZ7E,KAAK,EAAE,SAAS;IAChB8E,UAAU,EAAE;EACd;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}